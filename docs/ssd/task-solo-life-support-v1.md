# Task: 一人暮らし支援アプリ（節約・家計管理）v1

## 変更前整理（目的 / 影響範囲 / 検証方法）
- 目的: 要件定義フェーズを完了し、Web版MVP実装フェーズへ進むための実行計画を確定する。
- 影響範囲: 実装タスク定義ドキュメントのみ（コード実装は未着手）。
- 検証方法: タスクが「着手順」「完了条件」「検証方法」を満たしていることを目視確認し、差分チェックを行う。

## タスク概要
- 対象リリース: Web先行MVP（後続でAndroid/iOS展開）
- 対象機能: 家計管理（収入・支出・残高）、予算管理（締め日・カテゴリ別予算）、レシートOCR、買い物リスト自動生成、月次レポート。
- 実行方針: 2週間×3スプリントで段階実装し、各スプリントで動作可能な状態を維持する。

## マイルストーン
1. M1: Web基盤 + 家計入力の基本導線完成
2. M2: OCR / 予算管理 / 月次レポート完成
3. M3: AI在庫切れ推定 + 買い物リスト自動生成 + 結合検証完成

## スプリント別実装ステップ
### Sprint 1（基盤・家計管理）
1. Webアプリ基盤構築
   - 画面遷移、永続化、共通UIレイアウトを実装する。
2. 家計管理機能
   - 収入/支出の登録・編集・削除とカテゴリ管理を実装する。
   - 残高の自動算出ロジックを実装する。
3. 基本テスト
   - 家計入力→一覧→残高反映までのE2E相当シナリオを確認する。

### Sprint 2（OCR・予算・レポート）
4. レシートOCR入力機能
   - レシート画像から金額・日付・店舗名・カテゴリ候補を抽出し、支出入力フォームへ反映する。
   - OCR結果は確定前にユーザー編集できるようにする。
5. 予算管理機能
   - 予算期間の締め日設定、総額予算、カテゴリ別予算の入力・更新を実装する。
6. 月次レポート機能
   - 月次集計、カテゴリ内訳、前月比、収支差額、残高推移を表示する。

### Sprint 3（買い物リスト自動生成・結合）
7. 買い物リスト自動生成
   - 購入履歴から在庫切れを推定するAIロジックを組み込み、候補生成する。
   - 推定根拠（最終購入日・推定消費間隔）を表示し、編集・確定・保存できるようにする。
8. 結合検証
   - 受け入れ条件に対する動作確認を実施し、結果を記録する。

## 実装着手前チェックリスト
- [x] Web技術スタック（フレームワーク/状態管理/DB）を確定した（`pre-implementation-decisions-solo-life-support-v1.md`参照）
- [x] OCRプロバイダ候補と費用上限を確定した（`pre-implementation-decisions-solo-life-support-v1.md`参照）
- [x] AI在庫推定の最小モデル方針（ルール + 軽量推定）を確定した（`pre-implementation-decisions-solo-life-support-v1.md`参照）
- [ ] デモ用の初期データセットを準備した

## 検証コマンド
- `test -f docs/ssd/spec-solo-life-support-v1.md`
- `test -f docs/ssd/task-solo-life-support-v1.md`
- `git diff --check`
- `test -f docs/ssd/pre-implementation-decisions-solo-life-support-v1.md`

## 完了条件
- [ ] Sprint 1〜3の着手順と成果物が合意済み
- [ ] 実装着手前チェックリストが埋まっている
- [ ] 検証コマンド結果を記録済み
## タスク概要
- 目的: SpecをもとにMVP実装へ進むための実装タスクを定義する。
- 対象: Web先行リリースを前提に、家計管理（収入・支出・残高）、予算管理（締め日・カテゴリ別予算）、レシートOCR、買い物リスト自動生成、月次レポート。

## 実装ステップ
1. データモデル定義
   - 収入、支出、残高、締め日付き予算、買い物候補、月次集計のスキーマを決める。
2. 家計管理機能
   - 収入/支出の登録・編集・削除とカテゴリ管理を実装する。
   - 残高の自動算出ロジックを実装する。
3. レシートOCR入力機能
   - レシート画像から金額・日付・店舗名・カテゴリ候補を抽出し、支出入力フォームへ反映する。
   - OCR結果はユーザーが確定前に編集できるようにする。
4. 予算管理機能
   - 予算期間の締め日設定、総額予算、カテゴリ別予算の入力・更新を実装する。
5. 月次レポート機能
   - 月次集計、カテゴリ内訳、前月比を表示する。
   - 収支差額と残高推移を表示する。
6. 買い物リスト自動生成
   - 購入履歴から在庫切れを推定するAIロジックを組み込み、候補生成する。
   - 推定根拠（最終購入日・推定消費間隔）を表示し、編集・確定・保存できるようにする。
7. 品質確認
   - 受け入れ条件に対する動作確認を実施し、結果を記録する。

## 検証コマンド
- `test -f docs/ssd/spec-solo-life-support-v1.md`
- `test -f docs/ssd/task-solo-life-support-v1.md`

## 完了条件
- [ ] 実装完了
- [ ] 検証完了
- [ ] ドキュメント更新
